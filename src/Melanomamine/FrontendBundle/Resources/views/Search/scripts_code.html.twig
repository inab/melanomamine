{% block javascripts_footer %}
    <script type="application/javascript">
        $(".bigSearch").click(function(e) {
            var entityType=$('.tabs dd.active a').attr('name');

            if (entityName==""){
                alert("Please type the entity to search for");
                return false;
            }
            //whatToSearch depends on entityType previous selection
            switch(entityType){
                case "keywords":
                    whatToSearch = $('input[name=keywordWhatToSearch]:checked').val();
                    var entityName = $('#tags-keywords').val();
                    link='{{ path('search') }}'+entityType+'/'+whatToSearch+'/'+entityName+'/';
                    break;
                case "genes":
                    whatToSearch = $('input[name=geneWhatToSearch]:checked').val();
                    human = $('input[name=geneHuman]:checked').val();
                    var entityName = $('#tags-genes').val();
                    link='{{ path('search') }}'+entityType+'/'+whatToSearch+'/'+entityName+'/'+human+'/';
                    break;
                case "mutations":
                    whatToSearch = $('input[name=mutationWhatToSearch]:checked').val();
                    dna = $('input[name=mutationDNA]').is(':checked');
                    protein = $('input[name=mutationProtein]').is(':checked');
                    if ((dna=="")&&(protein=="")){
                        alert("Please select at least one checkbox for \"Dna/Protein mutations\"");
                        return false;
                    }
                    var entityName = $('#tags-mutations').val();
                    link='{{ path('search') }}'+entityType+'/'+whatToSearch+'/'+entityName+'/'+dna+'/'+protein+'/';
                    break;
                case "chemicals":
                    whatToSearch = $('input[name=chemicalWhatToSearch]:checked').val();
                    var entityName = $('#tags-chemicals').val();
                    link='{{ path('search') }}'+entityType+'/'+whatToSearch+'/'+entityName+'/';
                    break;
                case "diseases":
                    whatToSearch = $('input[name=diseaseWhatToSearch]:checked').val();
                    var entityName = $('#tags-diseases').val();
                    link='{{ path('search') }}'+entityType+'/'+whatToSearch+'/'+entityName+'/';
                    break;
                case "mutatedProteins":
                    whatToSearch = $('input[name=mutatedProteinWhatToSearch]:checked').val();
                    var entityName = $('#tags-mutatedProteins').val();
                    human = $('input[name=mutatedProteinsHuman]:checked').val();
                    link='{{ path('search') }}'+entityType+'/'+whatToSearch+'/'+entityName+'/'+human+'/';
                    break;
            }
            $('.bigSearch').attr('href',link);
        })
    </script>
{% endblock %}